!function(o,t,i){var n=t.options,e=t.providers,a=!1,s=!1;L.Control.ResetLayers=L.Control.extend({onAdd:function(){return this._container=L.DomUtil.create("div","leaflet-control-add-location-marker leaflet-bar leaflet-control"),this._link=L.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",this._container),this._icon=L.DomUtil.create("span","dashicons dashicons-image-rotate",this._link),L.DomEvent.on(this._link,"click",L.DomEvent.stopPropagation).on(this._link,"click",L.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",L.DomEvent.stopPropagation),this._container},onRemove:function(){L.DomEvent.off(this._link,"click",L.DomEvent.stopPropagation).off(this._link,"click",L.DomEvent.preventDefault).off(this._link,"click",this._onClick,this).off(this._link,"dblclick",L.DomEvent.stopPropagation)},_onClick:function(){this._map.eachLayer(function(o){o.remove()})}}),o(document).on("acf-osm-map-init",function(t){var i=t.detail.map;function r(o){var t,r;if(r=n.layer_config[o.split(".")[0]]||{options:{}},(t=L.tileLayer.provider(o,r.options)).provider_key=o,function(o){var t=o.split("."),i=e[t.shift()];return!!i.isOverlay||(t.length&&(i=i.variants[t.shift()]),!!i.isOverlay)}(o)){if(s&&(s.remove(),s.provider_key===o))return void(s=!1);(s=t).addTo(i)}else a&&(i.eachLayer(function(o){o.remove()}),s=!1),(a=t).addTo(i),s&&(s.remove(),s.addTo(i))}i.on("layeradd",function(o){var t,n,e=o.layer;if(i.hasLayer(e)){if(e.options.bounds){var a=L.latLngBounds(e.options.bounds);i.fitBounds(a,{paddingTopLeft:[0,0],paddingBottomRight:[0,0]})}(t=i.getZoom())!==(n=Math.max(e.options.minZoom,Math.min(t,e.options.maxZoom)))&&i.setZoom(n)}}),new L.Control.ResetLayers({position:"topright"}).addTo(i),o(document).on("click",".acf-osm-settings [data-layer]",function(t){t.preventDefault(),r(o(this).data("layer"))}).on("change",'.osm-disable[type="checkbox"]',function(t){o(this).closest(".acf-osm-setting").toggleClass("disabled",o(this).prop("checked"))})})}(jQuery,acf_osm,window);